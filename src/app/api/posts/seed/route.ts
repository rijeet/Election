import { NextRequest, NextResponse } from 'next/server';
import connectDB from '@/lib/mongodb';
import Post from '@/models/Post';

const SAMPLE_POSTS = [
  {
    slug: 'bangladesh-election-history-1973-2024',
    title: 'বাংলাদেশের নির্বাচনী ইতিহাস: ১৯৭৩ থেকে ২০২৪',
    featuredImage: '/assets/election_logo.png',
    content: `<h1>বাংলাদেশের নির্বাচনী যাত্রা</h1>
<p>বাংলাদেশের গণতান্ত্রিক ইতিহাসে নির্বাচন একটি গুরুত্বপূর্ণ অধ্যায়। ১৯৭৩ সাল থেকে শুরু করে ২০২৪ সাল পর্যন্ত বাংলাদেশে মোট ১২টি জাতীয় সংসদ নির্বাচন অনুষ্ঠিত হয়েছে।</p>

<h2>প্রথম সংসদ নির্বাচন (১৯৭৩)</h2>
<p>স্বাধীন বাংলাদেশের প্রথম জাতীয় সংসদ নির্বাচন অনুষ্ঠিত হয় ১৯৭৩ সালের ৭ই মার্চ। এই নির্বাচনে বাংলাদেশ আওয়ামী লীগ বিপুল সংখ্যাগরিষ্ঠতা অর্জন করে।</p>

<h2>নির্বাচনী প্রবণতা</h2>
<p>বাংলাদেশের নির্বাচনী ইতিহাসে বিভিন্ন রাজনৈতিক দলের উত্থান-পতন দেখা গেছে। সময়ের সাথে সাথে নির্বাচনী প্রক্রিয়া, ভোটার অংশগ্রহণ এবং রাজনৈতিক সংস্কৃতি পরিবর্তিত হয়েছে।</p>

<h3>গুরুত্বপূর্ণ নির্বাচনসমূহ</h3>
<ul>
<li>১৯৭৩: প্রথম সংসদ নির্বাচন</li>
<li>১৯৯১: গণতন্ত্রের পুনরুদ্ধার</li>
<li>২০০৮: ঐতিহাসিক নির্বাচন</li>
<li>২০২৪: সর্বশেষ সংসদ নির্বাচন</li>
</ul>

<p>এই ওয়েবসাইটে আপনি বাংলাদেশের সকল সংসদ নির্বাচনের বিস্তারিত তথ্য, প্রার্থীদের প্রোফাইল, এবং নির্বাচনী এলাকার বিশ্লেষণ পাবেন।</p>`,
    category: 'History' as const,
    tags: ['ইতিহাস', 'নির্বাচন', 'বাংলাদেশ', 'সংসদ'],
    excerpt: 'বাংলাদেশের নির্বাচনী ইতিহাসের একটি বিস্তারিত পর্যালোচনা: ১৯৭৩ থেকে ২০২৪ সাল পর্যন্ত সকল সংসদ নির্বাচনের গুরুত্বপূর্ণ তথ্য।',
    seoTitle: 'বাংলাদেশের নির্বাচনী ইতিহাস ১৯৭৩-২০২৪ | Election History',
    metaDescription: 'বাংলাদেশের সকল জাতীয় সংসদ নির্বাচনের বিস্তারিত ইতিহাস, পরিসংখ্যান এবং বিশ্লেষণ।',
    status: 'published' as const,
    publishedAt: new Date('2024-01-15')
  },
  {
    slug: 'election-commission-transparency-analysis',
    title: 'নির্বাচন কমিশনের স্বচ্ছতা: একটি বিশ্লেষণ',
    featuredImage: '/assets/election_logo.png',
    content: `<h1>নির্বাচন কমিশনের ভূমিকা</h1>
<p>নির্বাচন কমিশন বাংলাদেশের গণতান্ত্রিক প্রক্রিয়ার একটি গুরুত্বপূর্ণ প্রতিষ্ঠান। স্বাধীন ও নিরপেক্ষ নির্বাচন পরিচালনার দায়িত্ব এই কমিশনের উপর ন্যস্ত।</p>

<h2>স্বচ্ছতা ও জবাবদিহিতা</h2>
<p>একটি কার্যকর গণতন্ত্রের জন্য নির্বাচন কমিশনের স্বচ্ছতা অপরিহার্য। নাগরিকদের আস্থা অর্জনের জন্য কমিশনকে অবশ্যই স্বচ্ছ ও জবাবদিহিমূলক হতে হবে।</p>

<h3>চ্যালেঞ্জসমূহ</h3>
<ul>
<li>রাজনৈতিক চাপ</li>
<li>প্রযুক্তিগত সীমাবদ্ধতা</li>
<li>মানব সম্পদের অভাব</li>
<li>সামাজিক-রাজনৈতিক প্রেক্ষাপট</li>
</ul>

<h2>সুপারিশ</h2>
<p>নির্বাচন কমিশনের কার্যকারিতা বৃদ্ধির জন্য নিম্নলিখিত পদক্ষেপ গ্রহণ করা যেতে পারে:</p>
<ol>
<li>প্রযুক্তির ব্যবহার বৃদ্ধি</li>
<li>আন্তর্জাতিক পর্যবেক্ষকদের আমন্ত্রণ</li>
<li>সিভিল সোসাইটির অংশগ্রহণ</li>
<li>মিডিয়ার স্বাধীনতা নিশ্চিতকরণ</li>
</ol>`,
    category: 'Analysis' as const,
    tags: ['বিশ্লেষণ', 'নির্বাচন কমিশন', 'স্বচ্ছতা', 'গণতন্ত্র'],
    excerpt: 'নির্বাচন কমিশনের স্বচ্ছতা, চ্যালেঞ্জ এবং সুপারিশ নিয়ে একটি গভীর বিশ্লেষণ।',
    seoTitle: 'নির্বাচন কমিশনের স্বচ্ছতা বিশ্লেষণ | EC Transparency',
    metaDescription: 'বাংলাদেশের নির্বাচন কমিশনের স্বচ্ছতা, কার্যকারিতা এবং চ্যালেঞ্জ নিয়ে বিস্তারিত বিশ্লেষণ।',
    status: 'published' as const,
    publishedAt: new Date('2024-01-20')
  },
  {
    slug: 'women-participation-bangladesh-politics',
    title: 'বাংলাদেশের রাজনীতিতে নারীর অংশগ্রহণ',
    featuredImage: '/assets/election_logo.png',
    content: `<h1>রাজনীতিতে নারীর অবস্থান</h1>
<p>বাংলাদেশের রাজনীতিতে নারীর অংশগ্রহণ ক্রমাগত বৃদ্ধি পাচ্ছে। সংবিধানে সংরক্ষিত আসন এবং সরাসরি নির্বাচনে নারী প্রার্থীদের সংখ্যা উল্লেখযোগ্য হারে বেড়েছে।</p>

<h2>সংরক্ষিত আসন</h2>
<p>বাংলাদেশের সংবিধানে নারীদের জন্য ৫০টি সংরক্ষিত আসন রয়েছে। এই আসনগুলো দলীয় কোটা অনুযায়ী বণ্টন করা হয়।</p>

<h2>সরাসরি নির্বাচনে নারী</h2>
<p>সরাসরি নির্বাচনেও নারী প্রার্থীদের সংখ্যা বৃদ্ধি পেয়েছে। ২০২৪ সালের নির্বাচনে বেশ কয়েকজন নারী প্রার্থী সরাসরি নির্বাচনে জয়লাভ করেছেন।</p>

<h3>উল্লেখযোগ্য নারী রাজনীতিবিদ</h3>
<ul>
<li>শেখ হাসিনা - প্রধানমন্ত্রী</li>
<li>বেগম খালেদা জিয়া - সাবেক প্রধানমন্ত্রী</li>
<li>ড. রওশন এরশাদ - বিরোধীদলীয় নেত্রী</li>
</ul>

<h2>চ্যালেঞ্জ</h2>
<p>তবে এখনও নারীদের রাজনীতিতে অংশগ্রহণের ক্ষেত্রে অনেক চ্যালেঞ্জ রয়েছে:</p>
<ul>
<li>সামাজিক-সাংস্কৃতিক বাধা</li>
<li>অর্থনৈতিক সীমাবদ্ধতা</li>
<li>নিরাপত্তার উদ্বেগ</li>
<li>রাজনৈতিক দলের অভ্যন্তরীণ প্রতিবন্ধকতা</li>
</ul>`,
    category: 'Politics' as const,
    tags: ['রাজনীতি', 'নারী', 'অংশগ্রহণ', 'সমতা'],
    excerpt: 'বাংলাদেশের রাজনীতিতে নারীর অংশগ্রহণের বর্তমান অবস্থা, অর্জন এবং চ্যালেঞ্জ নিয়ে আলোচনা।',
    seoTitle: 'বাংলাদেশের রাজনীতিতে নারীর অংশগ্রহণ | Women in Politics',
    metaDescription: 'বাংলাদেশের রাজনীতিতে নারীর অংশগ্রহণ, সংরক্ষিত আসন এবং সরাসরি নির্বাচনে নারী প্রার্থীদের অবস্থান।',
    status: 'published' as const,
    publishedAt: new Date('2024-02-01')
  },
  {
    slug: 'election-2024-key-highlights',
    title: '২০২৪ সালের নির্বাচন: মূল বিষয়সমূহ',
    featuredImage: '/assets/election_logo.png',
    content: `<h1>২০২৪ সালের জাতীয় সংসদ নির্বাচন</h1>
<p>২০২৪ সালের ৭ই জানুয়ারি বাংলাদেশে ১২তম জাতীয় সংসদ নির্বাচন অনুষ্ঠিত হয়। এই নির্বাচনটি দেশের গণতান্ত্রিক ইতিহাসে একটি গুরুত্বপূর্ণ মাইলফলক।</p>

<h2>নির্বাচনের মূল পরিসংখ্যান</h2>
<ul>
<li>মোট ভোটার: ১১.৯৬ কোটি</li>
<li>নির্বাচনী কেন্দ্র: ৪২,০০০+</li>
<li>প্রার্থী: ১,৮৯৬ জন</li>
<li>রাজনৈতিক দল: ২৮টি</li>
</ul>

<h2>নির্বাচনী ফলাফল</h2>
<p>বাংলাদেশ আওয়ামী লীগ ২২৩টি আসনে জয়লাভ করে একক সংখ্যাগরিষ্ঠতা অর্জন করে।</p>

<h3>দলভিত্তিক ফলাফল</h3>
<ul>
<li>বাংলাদেশ আওয়ামী লীগ: ২২৩ আসন</li>
<li>স্বতন্ত্র প্রার্থী: ৬২ আসন</li>
<li>জাতীয় পার্টি: ১১ আসন</li>
<li>বাংলাদেশ জাতীয়তাবাদী দল: ০ আসন</li>
</ul>

<h2>নির্বাচনের বৈশিষ্ট্য</h2>
<p>এই নির্বাচনের কয়েকটি উল্লেখযোগ্য বৈশিষ্ট্য:</p>
<ol>
<li>ইভিএম (EVM) এর ব্যাপক ব্যবহার</li>
<li>আন্তর্জাতিক পর্যবেক্ষকদের উপস্থিতি</li>
<li>সামাজিক যোগাযোগ মাধ্যমের ভূমিকা</li>
<li>তরুণ ভোটারদের অংশগ্রহণ</li>
</ol>

<h2>বিশ্লেষণ</h2>
<p>২০২৪ সালের নির্বাচন বাংলাদেশের রাজনৈতিক প্রেক্ষাপটে একটি নতুন অধ্যায়ের সূচনা করেছে। ভোটারদের অংশগ্রহণ এবং নির্বাচনী প্রক্রিয়া নিয়ে বিভিন্ন মতামত প্রকাশিত হয়েছে।</p>`,
    category: 'Election' as const,
    tags: ['২০২৪', 'নির্বাচন', 'ফলাফল', 'বিশ্লেষণ'],
    excerpt: '২০২৪ সালের জাতীয় সংসদ নির্বাচনের মূল পরিসংখ্যান, ফলাফল এবং বিশ্লেষণ।',
    seoTitle: '২০২৪ সালের নির্বাচন: ফলাফল ও বিশ্লেষণ | Election 2024',
    metaDescription: '২০২৪ সালের বাংলাদেশের জাতীয় সংসদ নির্বাচনের বিস্তারিত ফলাফল, পরিসংখ্যান এবং বিশ্লেষণ।',
    status: 'published' as const,
    publishedAt: new Date('2024-01-10')
  },
  {
    slug: 'democratic-institutions-bangladesh',
    title: 'বাংলাদেশের গণতান্ত্রিক প্রতিষ্ঠানসমূহ',
    featuredImage: '/assets/election_logo.png',
    content: `<h1>গণতান্ত্রিক প্রতিষ্ঠানের গুরুত্ব</h1>
<p>একটি কার্যকর গণতন্ত্রের জন্য শক্তিশালী প্রতিষ্ঠান অপরিহার্য। বাংলাদেশের গণতান্ত্রিক ব্যবস্থায় বিভিন্ন প্রতিষ্ঠান গুরুত্বপূর্ণ ভূমিকা পালন করে।</p>

<h2>প্রধান প্রতিষ্ঠানসমূহ</h2>

<h3>১. নির্বাচন কমিশন</h3>
<p>নির্বাচন কমিশন স্বাধীন ও নিরপেক্ষ নির্বাচন পরিচালনার দায়িত্ব পালন করে।</p>

<h3>২. সংসদ</h3>
<p>জাতীয় সংসদ দেশের সর্বোচ্চ আইনসভা এবং জনগণের প্রতিনিধিত্বকারী প্রতিষ্ঠান।</p>

<h3>৩. বিচার বিভাগ</h3>
<p>বিচার বিভাগের স্বাধীনতা গণতন্ত্রের একটি মৌলিক স্তম্ভ।</p>

<h3>৪. সিভিল সোসাইটি</h3>
<p>সিভিল সোসাইটি সংগঠনগুলো গণতান্ত্রিক প্রক্রিয়ায় গুরুত্বপূর্ণ ভূমিকা পালন করে।</p>

<h2>চ্যালেঞ্জ</h2>
<p>বাংলাদেশের গণতান্ত্রিক প্রতিষ্ঠানগুলো বিভিন্ন চ্যালেঞ্জের মুখোমুখি:</p>
<ul>
<li>রাজনৈতিক হস্তক্ষেপ</li>
<li>অর্থনৈতিক সীমাবদ্ধতা</li>
<li>প্রাতিষ্ঠানিক দুর্বলতা</li>
<li>জবাবদিহিতার অভাব</li>
</ul>

<h2>সুপারিশ</h2>
<p>গণতান্ত্রিক প্রতিষ্ঠানগুলোকে শক্তিশালী করার জন্য:</p>
<ol>
<li>প্রাতিষ্ঠানিক স্বায়ত্তশাসন নিশ্চিত করা</li>
<li>আইনি কাঠামো শক্তিশালী করা</li>
<li>মানব সম্পদ উন্নয়ন</li>
<li>প্রযুক্তির ব্যবহার বৃদ্ধি</li>
</ol>`,
    category: 'Analysis' as const,
    tags: ['গণতন্ত্র', 'প্রতিষ্ঠান', 'বিশ্লেষণ', 'রাজনীতি'],
    excerpt: 'বাংলাদেশের গণতান্ত্রিক প্রতিষ্ঠানসমূহের অবস্থা, ভূমিকা এবং চ্যালেঞ্জ নিয়ে আলোচনা।',
    seoTitle: 'বাংলাদেশের গণতান্ত্রিক প্রতিষ্ঠান | Democratic Institutions',
    metaDescription: 'বাংলাদেশের গণতান্ত্রিক প্রতিষ্ঠানসমূহের কার্যকারিতা, চ্যালেঞ্জ এবং উন্নয়নের সুযোগ নিয়ে বিশ্লেষণ।',
    status: 'published' as const,
    publishedAt: new Date('2024-01-25')
  },
  {
    slug: 'youth-voter-participation-trends',
    title: 'তরুণ ভোটারদের অংশগ্রহণ: প্রবণতা ও বিশ্লেষণ',
    featuredImage: '/assets/election_logo.png',
    content: `<h1>তরুণ ভোটারদের ভূমিকা</h1>
<p>বাংলাদেশের নির্বাচনী প্রেক্ষাপটে তরুণ ভোটারদের অংশগ্রহণ ক্রমাগত বৃদ্ধি পাচ্ছে। ১৮-৩৫ বছর বয়সী ভোটাররা মোট ভোটারের একটি উল্লেখযোগ্য অংশ।</p>

<h2>পরিসংখ্যান</h2>
<p>২০২৪ সালের নির্বাচনে:</p>
<ul>
<li>নতুন ভোটার: ১.৯৩ কোটি</li>
<li>তরুণ ভোটার (১৮-৩৫): ৪.৫ কোটি</li>
<li>তরুণ ভোটারদের অংশগ্রহণের হার: ৬৫%</li>
</ul>

<h2>তরুণ ভোটারদের প্রাধান্য</h2>
<p>তরুণ ভোটাররা সাধারণত নিম্নলিখিত বিষয়গুলোকে গুরুত্ব দেয়:</p>
<ul>
<li>কর্মসংস্থানের সুযোগ</li>
<li>শিক্ষার মান</li>
<li>ডিজিটাল সুবিধা</li>
<li>পরিবেশ সংরক্ষণ</li>
<li>সামাজিক ন্যায়বিচার</li>
</ul>

<h3>সামাজিক যোগাযোগ মাধ্যমের প্রভাব</h3>
<p>তরুণ ভোটাররা সামাজিক যোগাযোগ মাধ্যমের মাধ্যমে রাজনৈতিক তথ্য গ্রহণ করে। ফেসবুক, টুইটার, এবং ইউটিউব তাদের মধ্যে জনপ্রিয়।</p>

<h2>চ্যালেঞ্জ</h2>
<p>তরুণ ভোটারদের অংশগ্রহণ বৃদ্ধির ক্ষেত্রে কিছু চ্যালেঞ্জ রয়েছে:</p>
<ol>
<li>রাজনীতিতে আস্থার অভাব</li>
<li>তথ্যের অভাব</li>
<li>নিবন্ধন প্রক্রিয়ার জটিলতা</li>
<li>রাজনৈতিক দলগুলোর তরুণ-বান্ধব নীতির অভাব</li>
</ol>

<h2>সুপারিশ</h2>
<p>তরুণ ভোটারদের অংশগ্রহণ বৃদ্ধির জন্য:</p>
<ul>
<li>ডিজিটাল নিবন্ধন প্রক্রিয়া সহজ করা</li>
<li>তরুণ-বান্ধব রাজনৈতিক নীতি</li>
<li>শিক্ষা ও সচেতনতা কার্যক্রম</li>
<li>সামাজিক যোগাযোগ মাধ্যমের সঠিক ব্যবহার</li>
</ul>`,
    category: 'Analysis' as const,
    tags: ['তরুণ', 'ভোটার', 'অংশগ্রহণ', 'বিশ্লেষণ'],
    excerpt: 'বাংলাদেশের নির্বাচনে তরুণ ভোটারদের অংশগ্রহণের প্রবণতা, চ্যালেঞ্জ এবং সুপারিশ।',
    seoTitle: 'তরুণ ভোটারদের অংশগ্রহণ | Youth Voter Participation',
    metaDescription: 'বাংলাদেশের নির্বাচনে তরুণ ভোটারদের অংশগ্রহণের পরিসংখ্যান, প্রবণতা এবং বিশ্লেষণ।',
    status: 'published' as const,
    publishedAt: new Date('2024-02-05')
  }
];

export async function POST(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const reset = searchParams.get('reset') === 'true';

    await connectDB();

    const slugs = SAMPLE_POSTS.map(p => p.slug);

    if (reset) {
      await Post.deleteMany({ slug: { $in: slugs } });
    }

    const results = [];
    for (const post of SAMPLE_POSTS) {
      const updated = await Post.findOneAndUpdate(
        { slug: post.slug },
        { $set: post },
        { upsert: true, new: true, setDefaultsOnInsert: true }
      );
      results.push(updated?.slug);
    }

    return NextResponse.json({
      success: true,
      inserted: results,
      count: results.length
    });
  } catch (error) {
    console.error('Post seed error:', error);
    return NextResponse.json({ error: 'Failed to seed posts' }, { status: 500 });
  }
}

